<!DOCTYPE html>
<html lang="en"><head>
<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/tabby.min.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.468">

  <meta name="author" content="Jakub Sobolewski">
  <meta name="dcterms.date" content="2024-04-19">
  <title>Getting The Most Out Of   Test-Driven Development   For Shiny</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #24292e;  }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #24292e; } /* Normal */
    code span.al { color: #ff5555; font-weight: bold; } /* Alert */
    code span.an { color: #6a737d; } /* Annotation */
    code span.at { color: #d73a49; } /* Attribute */
    code span.bn { color: #005cc5; } /* BaseN */
    code span.bu { color: #d73a49; } /* BuiltIn */
    code span.cf { color: #d73a49; } /* ControlFlow */
    code span.ch { color: #032f62; } /* Char */
    code span.cn { color: #005cc5; } /* Constant */
    code span.co { color: #6a737d; } /* Comment */
    code span.cv { color: #6a737d; } /* CommentVar */
    code span.do { color: #6a737d; } /* Documentation */
    code span.dt { color: #d73a49; } /* DataType */
    code span.dv { color: #005cc5; } /* DecVal */
    code span.er { color: #ff5555; text-decoration: underline; } /* Error */
    code span.ex { color: #d73a49; font-weight: bold; } /* Extension */
    code span.fl { color: #005cc5; } /* Float */
    code span.fu { color: #6f42c1; } /* Function */
    code span.im { color: #032f62; } /* Import */
    code span.in { color: #6a737d; } /* Information */
    code span.kw { color: #d73a49; } /* Keyword */
    code span.op { color: #24292e; } /* Operator */
    code span.ot { color: #6f42c1; } /* Other */
    code span.pp { color: #d73a49; } /* Preprocessor */
    code span.re { color: #6a737d; } /* RegionMarker */
    code span.sc { color: #005cc5; } /* SpecialChar */
    code span.ss { color: #032f62; } /* SpecialString */
    code span.st { color: #032f62; } /* String */
    code span.va { color: #e36209; } /* Variable */
    code span.vs { color: #032f62; } /* VerbatimString */
    code span.wa { color: #ff5555; } /* Warning */
  </style>
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/theme/quarto.css">
  <link href="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section class="title-slide center" id="title-slide" data-notes="<p>Hello everyone, I hope you’re enjooying the conference. In this session we’re going to talk about Test-Driven Development and how to do it effectively. I’m Jakub Sobolewski, I’m a Senior R/Shiny developer at Appsilon. I’ve been using TDD for almost 3 years. I used it in a variety of projects, from small prototypes developed in 2 weeks, to huge apps developed over many months. I used it to develop R packages as well.</p>">
<img src="./assets/appsilon_logo.png" alt="logo" class="logo">
<h1 class="title">Getting The Most Out Of <br> Test-Driven Development <br> For Shiny</h1>
<div>
  <p class="author">Jakub Sobolewski</p>
  <p class="date">April 19, 2024</p>
  </div>
</section>
<section class="slide level2">


<img src="./assets/background.jpg" style="display: none;" class="r-stretch"><script src="https://cdn.tailwindcss.com"></script>
<script>
  tailwind.config = {
    theme: {
      extend: {
      }
    }
  }
</script>
<div class="text-2xl text-center h-full flex flex-col items-center justify-center">
<ol type="1">
<li>What is TDD?</li>
<li>How to do TDD?</li>
<li>Why use TDD?</li>
</ol>
</div>
<aside class="notes">
<p>In this session we’re going to answer three questions:</p>
<ul>
<li>What is Test-Driven Development?</li>
<li>How to do it in R and how we can use it to develop Shiny apps.</li>
<li>And last, but not least, why should we use it?</li>
</ul>
<p>I hope that by the end of the session, you’ll have a better understanding of TDD and why it’s worth giving it a try.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="section" class="title-slide slide level1 center" data-auto-animate="true">
<h1 data-id="quarto-animate-title"></h1>
<div class="grid grid-cols-2 grid-rows-1 place-items-center text-xl">
<div>
<h2>
What is TDD?
</h2>
</div>
<div class="justify-self-start">
<div class="fragment">
<p>🏛️ A design technique.</p>
</div>
<div class="fragment">
<p>📈 A guided evolution.</p>
</div>
<div class="fragment">
<p>🧪 Tests first.</p>
</div>
</div>
</div>
<aside class="notes">
<ul>
<li>It a technique in which tests help us design our code, it’s not really about testing.</li>
<li>It is a guided evolution with clear feedback after each step.</li>
<li>And last, but not least, it’s a process where we write tests before we write the production code.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="steps-of-tdd" class="title-slide slide level1 top center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">3 steps of TDD</h1>
<div class="text-xl">
<p>❌ Red</p>
<p>✅ Green</p>
<p>🔁 Refactor</p>
</div>
</section>

<section id="steps-of-tdd-1" class="title-slide slide level1 top center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">3 steps of TDD</h1>
<div class="text-xl">
<div class="highlight">
<p>❌ Red</p>
</div>
<p>Write a failing test first. ⛔️</p>
<div class="muted">
<p>✅ Green</p>
</div>
<div class="muted">
<p>🔁 Refactor</p>
</div>
</div>
<aside class="notes">
<p>There are 3 steps in TDD.</p>
<p>Red - this is where we start by writing a failing test. It will fail because the code we want to test doesn’t exist yet. It will fail as long as we don’t solve the problem we stated in the test.</p>
<p>This approach is the other way around to the test-last approach where we write tests to make them pass. It changes the dynamic between prodcution code and tests. In TDD we don’t try to prove that the code we wrote works as expected using test. We write code to accomplish what is stated in tests.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="steps-of-tdd-2" class="title-slide slide level1 top center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">3 steps of TDD</h1>
<div class="text-xl">
<div class="muted">
<p>❌ Red</p>
</div>
<div class="highlight">
<p>✅ Green</p>
</div>
<p>Write the production code.</p>
<div class="fragment">
<p>Only as much as needed to make tests pass. ✋</p>
</div>
<div class="muted">
<p>🔁 Refactor</p>
</div>
</div>
<aside class="notes">
<ol type="1">
<li>Green - once we have at least one failing test, we can write production code to satisfy it.</li>
</ol>
<p>Since we have tests, we can run them as often as we need. We have a reproducible way to check if the code we write works as expected. We don’t need to setup the environment by hand each time we sit down to write the code or to do a lot of clicking in the app, if we’re developing an app.</p>
<p>If the code does what we want it to, tests will pass.</p>
<ol type="1">
<li>We write only as much production code as needed to make tests pass. Why would we write more code, if tests are already satisfied? Don’t do it, You Ain’t Gonna Need It.</li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="steps-of-tdd-3" class="title-slide slide level1 top center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">3 steps of TDD</h1>
<div class="text-xl">
<div class="muted">
<p>❌ Red</p>
</div>
<div class="muted">
<p>✅ Green</p>
</div>
<div class="highlight">
<p>🔁 Refactor</p>
</div>
<p>Don’t worry about breaking things.</p>
<div class="fragment">
<p>Make code more readable and maintainable. 💄</p>
</div>
</div>
<aside class="notes">
<ol type="1">
<li><p>Last step is refactoring - Were you ever afraid of refactoring your code because you thought you might break something? TDD helps you mitigate this problem. We have tests that ensure that the code works as expected. So we can be more liberal in changes we make to the code. If written well, tests don’t constrain us, they empower us to make bold changes.</p></li>
<li><p>We don’t only want to have working code, we want to have good code. We can spend some time in this step to make sure our code is clean and easy to understand.</p></li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="section-1" class="title-slide slide level1 center" data-auto-animate="true">
<h1 data-id="quarto-animate-title"></h1>
<div class="grid grid-cols-5 grid-rows-1 place-items-center">
<div class="col-span-2 justify-self-end">
<h1>
Example
</h1>
</div>
<div class="col-span-3">
<p><img data-src="./assets/arrow.png"></p>
</div>
</div>
<aside class="notes">
<p>Let’s see in practice how the process looks like.</p>
<p>We’ll implament a simple function that adds numbers.</p>
<p>It will be a simple example, but it will show how the process works.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="red" class="title-slide slide level1 top center" data-auto-animate="true" data-auto-animate-unmatched="false">
<h1 data-id="quarto-animate-title">❌ Red</h1>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell" data-animateid="code1">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>sum.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co">#</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:60%;">
<div class="cell" data-animateid="code2">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>test-sum.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb2" data-code-line-numbers="2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">describe</span>(<span class="st">"my_sum"</span>, {</span>
<span id="cb2-2"><a href="#cb2-2"></a>  <span class="fu">it</span>(<span class="st">"should calculate the sum for multiple numbers"</span>, {</span>
<span id="cb2-3"><a href="#cb2-3"></a>    <span class="fu">fail</span>(<span class="st">"Not implemented"</span>)</span>
<span id="cb2-4"><a href="#cb2-4"></a>  })</span>
<span id="cb2-5"><a href="#cb2-5"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>── Failure: my_sum: should calculate the sum for multiple numbers ──────────────
Not implemented</code></pre>
</div>
<div class="cell-output cell-output-error">
<pre><code>Error:
! Test failed</code></pre>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>We write down a title of the first behavior we want to implement. This can be the simplest case, just to get us started.</p>
<p>The next step we’re about to do was the most scary part of TDD for me. But it was scary only at the beginning, when I started learning it.</p>
<p>How can we write a test, if there is no code to test?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="red-1" class="title-slide slide level1 top center" data-auto-animate="true" data-auto-animate-unmatched="false">
<h1 data-id="quarto-animate-title">❌ Red</h1>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell" data-animateid="code1">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>sum.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="co">#</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:60%;">
<div class="cell" data-animateid="code2">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>test-sum.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb6" data-code-line-numbers="3,6,9|3-4|6-7|9-10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">describe</span>(<span class="st">"my_sum"</span>, {</span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="fu">it</span>(<span class="st">"should calculate the sum for multiple numbers"</span>, {</span>
<span id="cb6-3"><a href="#cb6-3"></a>    <span class="co"># Arrange</span></span>
<span id="cb6-4"><a href="#cb6-4"></a>    numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb6-5"><a href="#cb6-5"></a></span>
<span id="cb6-6"><a href="#cb6-6"></a>    <span class="co"># Act</span></span>
<span id="cb6-7"><a href="#cb6-7"></a>    result <span class="ot">&lt;-</span> <span class="fu">my_sum</span>(numbers)</span>
<span id="cb6-8"><a href="#cb6-8"></a></span>
<span id="cb6-9"><a href="#cb6-9"></a>    <span class="co"># Assert</span></span>
<span id="cb6-10"><a href="#cb6-10"></a>    <span class="fu">expect_equal</span>(result, <span class="dv">3</span>)</span>
<span id="cb6-11"><a href="#cb6-11"></a>  })</span>
<span id="cb6-12"><a href="#cb6-12"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>── Error: my_sum: should calculate the sum for multiple numbers ────────────────
Error in `my_sum(numbers)`: could not find function "my_sum"</code></pre>
</div>
<div class="cell-output cell-output-error">
<pre><code>Error:
! Test failed</code></pre>
</div>
</div>
</div>
</div>
<aside class="notes">
<ol type="1">
<li>It’s useful to remember that each test consists of three parts:</li>
</ol>
<ul>
<li>Setup</li>
<li>Execution</li>
<li>Assertion</li>
</ul>
<p>We can use #Arrange, #Act, #Assert comments to split our tests into those distinct parts.</p>
<ol type="1">
<li>We start with the setup.</li>
</ol>
<p>#Arrange is where we prepare the environment. This is where we need to figure out the inputs required to solve the problem.</p>
<p>This is very powerful, why? At this stage, we focus on what we need to be able to solve the problem. Not how we will solve it.</p>
<p>Without understanding the problem we won’t be able write down the test. And this is good, we won’t write any production code until we have the understanding of the problem. This helps us mitigate the risk of implementing the wrong solution.</p>
<ol type="1">
<li>#Act is where we call our code.</li>
</ol>
<p>TDD gives us the freedom to experiment with interfaces.</p>
<p>We can try out a few different variants even before we start writing the production code, possibly saving a lot of time on refactoring.</p>
<p>The test you write is the first user of your code. The way you call your code from tests is the way you will call it from the production code. So, think about how you want to use your code and then write it down in a test.</p>
<ol type="1">
<li>In #Assert we focus on how to observe that the code works as expected.</li>
</ol>
<p>Again, we won’t be able to do it without understanding the problem. We should know what is the expected output for given inputs.</p>
<p>Although we could skip writing down the assertion, but only for a few iterations of prototyping, to help us undestand the data better, and design the output we want.</p>
<p>So, in TDD we first define inputs and outputs, treating the not-yet-existing code as a black box.</p>
<p>This approach produces tests that don’t test implementation details. It’s impossible to do so since there is no implementation yet!</p>
<p>This makes tests focused on the behavior.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="red-2" class="title-slide slide level1 top center" data-auto-animate="true" data-auto-animate-unmatched="false">
<h1 data-id="quarto-animate-title">❌ Red</h1>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell" data-animateid="code1">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>sum.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>my_sum <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb9-2"><a href="#cb9-2"></a></span>
<span id="cb9-3"><a href="#cb9-3"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:60%;">
<div class="cell" data-animateid="code2">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>test-sum.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">describe</span>(<span class="st">"my_sum"</span>, {</span>
<span id="cb10-2"><a href="#cb10-2"></a>  <span class="fu">it</span>(<span class="st">"should calculate the sum for multiple numbers"</span>, {</span>
<span id="cb10-3"><a href="#cb10-3"></a>    <span class="co"># Arrange</span></span>
<span id="cb10-4"><a href="#cb10-4"></a>    numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb10-5"><a href="#cb10-5"></a></span>
<span id="cb10-6"><a href="#cb10-6"></a>    <span class="co"># Act</span></span>
<span id="cb10-7"><a href="#cb10-7"></a>    result <span class="ot">&lt;-</span> <span class="fu">my_sum</span>(numbers)</span>
<span id="cb10-8"><a href="#cb10-8"></a></span>
<span id="cb10-9"><a href="#cb10-9"></a>    <span class="co"># Assert</span></span>
<span id="cb10-10"><a href="#cb10-10"></a>    <span class="fu">expect_equal</span>(result, <span class="dv">3</span>)</span>
<span id="cb10-11"><a href="#cb10-11"></a>  })</span>
<span id="cb10-12"><a href="#cb10-12"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>── Failure: my_sum: should calculate the sum for multiple numbers ──────────────
`result` not equal to 3.
target is NULL, current is numeric</code></pre>
</div>
<div class="cell-output cell-output-error">
<pre><code>Error:
! Test failed</code></pre>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>We implement the function, with the interface we want to use.</p>
<p>Now we see a different test output, now it’s a failiure due to the function returning the incorrect value.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="green" class="title-slide slide level1 top center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">✅ Green</h1>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell" data-animateid="code1">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>sum.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>my_sum <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb13-2"><a href="#cb13-2"></a>  x[<span class="dv">1</span>] <span class="sc">+</span> x[<span class="dv">2</span>]</span>
<span id="cb13-3"><a href="#cb13-3"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:60%;">
<div class="cell" data-animateid="code2">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>test-sum.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a><span class="fu">describe</span>(<span class="st">"my_sum"</span>, {</span>
<span id="cb14-2"><a href="#cb14-2"></a>  <span class="fu">it</span>(<span class="st">"should calculate the sum for multiple numbers"</span>, {</span>
<span id="cb14-3"><a href="#cb14-3"></a>    <span class="co"># Arrange</span></span>
<span id="cb14-4"><a href="#cb14-4"></a>    numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb14-5"><a href="#cb14-5"></a></span>
<span id="cb14-6"><a href="#cb14-6"></a>    <span class="co"># Act</span></span>
<span id="cb14-7"><a href="#cb14-7"></a>    result <span class="ot">&lt;-</span> <span class="fu">my_sum</span>(numbers)</span>
<span id="cb14-8"><a href="#cb14-8"></a></span>
<span id="cb14-9"><a href="#cb14-9"></a>    <span class="co"># Assert</span></span>
<span id="cb14-10"><a href="#cb14-10"></a>    <span class="fu">expect_equal</span>(result, <span class="dv">3</span>)</span>
<span id="cb14-11"><a href="#cb14-11"></a>  })</span>
<span id="cb14-12"><a href="#cb14-12"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Test passed 🥳</code></pre>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>To make the tests pass we can provide the simplest implementation. If this is the only usage of this function, this implementation would be completely sufficient.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="red-3" class="title-slide slide level1 top center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">❌ Red</h1>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell" data-animateid="code1">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>sum.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>my_sum <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb16-2"><a href="#cb16-2"></a>  x[<span class="dv">1</span>] <span class="sc">+</span> x[<span class="dv">2</span>]</span>
<span id="cb16-3"><a href="#cb16-3"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:60%;">
<div class="cell" data-animateid="code2" data-code-height="400px">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>test-sum.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb17" data-code-line-numbers="1-11|13-22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="fu">describe</span>(<span class="st">"my_sum"</span>, {</span>
<span id="cb17-2"><a href="#cb17-2"></a>  <span class="fu">it</span>(<span class="st">"should calculate the sum for multiple numbers"</span>, {</span>
<span id="cb17-3"><a href="#cb17-3"></a>    <span class="co"># Arrange</span></span>
<span id="cb17-4"><a href="#cb17-4"></a>    numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb17-5"><a href="#cb17-5"></a></span>
<span id="cb17-6"><a href="#cb17-6"></a>    <span class="co"># Act</span></span>
<span id="cb17-7"><a href="#cb17-7"></a>    result <span class="ot">&lt;-</span> <span class="fu">my_sum</span>(numbers)</span>
<span id="cb17-8"><a href="#cb17-8"></a></span>
<span id="cb17-9"><a href="#cb17-9"></a>    <span class="co"># Assert</span></span>
<span id="cb17-10"><a href="#cb17-10"></a>    <span class="fu">expect_equal</span>(result, <span class="dv">3</span>)</span>
<span id="cb17-11"><a href="#cb17-11"></a>  })</span>
<span id="cb17-12"><a href="#cb17-12"></a></span>
<span id="cb17-13"><a href="#cb17-13"></a>  <span class="fu">it</span>(<span class="st">"should calculate the sum for one number"</span>, {</span>
<span id="cb17-14"><a href="#cb17-14"></a>    <span class="co"># Arrange</span></span>
<span id="cb17-15"><a href="#cb17-15"></a>    numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>)</span>
<span id="cb17-16"><a href="#cb17-16"></a></span>
<span id="cb17-17"><a href="#cb17-17"></a>    <span class="co"># Act</span></span>
<span id="cb17-18"><a href="#cb17-18"></a>    result <span class="ot">&lt;-</span> <span class="fu">my_sum</span>(numbers)</span>
<span id="cb17-19"><a href="#cb17-19"></a></span>
<span id="cb17-20"><a href="#cb17-20"></a>    <span class="co"># Assert</span></span>
<span id="cb17-21"><a href="#cb17-21"></a>    <span class="fu">expect_equal</span>(result, <span class="dv">1</span>)</span>
<span id="cb17-22"><a href="#cb17-22"></a>  })</span>
<span id="cb17-23"><a href="#cb17-23"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Test passed 🎊
── Failure: my_sum: should calculate the sum for one number ────────────────────
`result` not equal to 1.
1/1 mismatches
[1] NA - 1 == NA</code></pre>
</div>
<div class="cell-output cell-output-error">
<pre><code>Error:
! Test failed</code></pre>
</div>
</div>
</div>
</div>
<aside class="notes">
<ol type="1">
<li><p>But we want it to work for more cases, not just adding two numbers together.</p></li>
<li><p>We add another case, we expect it to work with a single number. This implementation doesn’t do the job. We need to change it.</p></li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="green-1" class="title-slide slide level1 top center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">✅ Green</h1>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell" data-animateid="code1">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>sum.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>my_sum <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb20-2"><a href="#cb20-2"></a>  sum <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb20-3"><a href="#cb20-3"></a>  <span class="cf">for</span> (number <span class="cf">in</span> x) {</span>
<span id="cb20-4"><a href="#cb20-4"></a>    sum <span class="ot">&lt;-</span> sum <span class="sc">+</span> number</span>
<span id="cb20-5"><a href="#cb20-5"></a>  }</span>
<span id="cb20-6"><a href="#cb20-6"></a>  sum</span>
<span id="cb20-7"><a href="#cb20-7"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:60%;">
<div class="cell" data-animateid="code2">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>test-sum.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="fu">describe</span>(<span class="st">"my_sum"</span>, {</span>
<span id="cb21-2"><a href="#cb21-2"></a>  <span class="fu">it</span>(<span class="st">"should calculate the sum for multiple numbers"</span>, {</span>
<span id="cb21-3"><a href="#cb21-3"></a>    <span class="co"># Arrange</span></span>
<span id="cb21-4"><a href="#cb21-4"></a>    numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb21-5"><a href="#cb21-5"></a></span>
<span id="cb21-6"><a href="#cb21-6"></a>    <span class="co"># Act</span></span>
<span id="cb21-7"><a href="#cb21-7"></a>    result <span class="ot">&lt;-</span> <span class="fu">my_sum</span>(numbers)</span>
<span id="cb21-8"><a href="#cb21-8"></a></span>
<span id="cb21-9"><a href="#cb21-9"></a>    <span class="co"># Assert</span></span>
<span id="cb21-10"><a href="#cb21-10"></a>    <span class="fu">expect_equal</span>(result, <span class="dv">3</span>)</span>
<span id="cb21-11"><a href="#cb21-11"></a>  })</span>
<span id="cb21-12"><a href="#cb21-12"></a></span>
<span id="cb21-13"><a href="#cb21-13"></a>  <span class="fu">it</span>(<span class="st">"should calculate the sum for one number"</span>, {</span>
<span id="cb21-14"><a href="#cb21-14"></a>    <span class="co"># Arrange</span></span>
<span id="cb21-15"><a href="#cb21-15"></a>    numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>)</span>
<span id="cb21-16"><a href="#cb21-16"></a></span>
<span id="cb21-17"><a href="#cb21-17"></a>    <span class="co"># Act</span></span>
<span id="cb21-18"><a href="#cb21-18"></a>    result <span class="ot">&lt;-</span> <span class="fu">my_sum</span>(numbers)</span>
<span id="cb21-19"><a href="#cb21-19"></a></span>
<span id="cb21-20"><a href="#cb21-20"></a>    <span class="co"># Assert</span></span>
<span id="cb21-21"><a href="#cb21-21"></a>    <span class="fu">expect_equal</span>(result, <span class="dv">1</span>)</span>
<span id="cb21-22"><a href="#cb21-22"></a>  })</span>
<span id="cb21-23"><a href="#cb21-23"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Test passed 😀
Test passed 🥳</code></pre>
</div>
</div>
</div><aside class="notes">
<p>This implementation does it’s job. Tests are green.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>

<section id="refactor" class="title-slide slide level1 top center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">🔁 Refactor</h1>
<div class="columns">
<div class="column" style="width:40%;">
<div class="cell" data-animateid="code1">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>sum.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>my_sum <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb23-2"><a href="#cb23-2"></a>  base<span class="sc">::</span><span class="fu">sum</span>(x)</span>
<span id="cb23-3"><a href="#cb23-3"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:60%;">
<div class="cell" data-animateid="code2">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>test-sum.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a><span class="fu">describe</span>(<span class="st">"my_sum"</span>, {</span>
<span id="cb24-2"><a href="#cb24-2"></a>  <span class="fu">it</span>(<span class="st">"should calculate the sum for multiple numbers"</span>, {</span>
<span id="cb24-3"><a href="#cb24-3"></a>    <span class="co"># Arrange</span></span>
<span id="cb24-4"><a href="#cb24-4"></a>    numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>)</span>
<span id="cb24-5"><a href="#cb24-5"></a></span>
<span id="cb24-6"><a href="#cb24-6"></a>    <span class="co"># Act</span></span>
<span id="cb24-7"><a href="#cb24-7"></a>    result <span class="ot">&lt;-</span> <span class="fu">my_sum</span>(numbers)</span>
<span id="cb24-8"><a href="#cb24-8"></a></span>
<span id="cb24-9"><a href="#cb24-9"></a>    <span class="co"># Assert</span></span>
<span id="cb24-10"><a href="#cb24-10"></a>    <span class="fu">expect_equal</span>(result, <span class="dv">3</span>)</span>
<span id="cb24-11"><a href="#cb24-11"></a>  })</span>
<span id="cb24-12"><a href="#cb24-12"></a></span>
<span id="cb24-13"><a href="#cb24-13"></a>  <span class="fu">it</span>(<span class="st">"should calculate the sum for one number"</span>, {</span>
<span id="cb24-14"><a href="#cb24-14"></a>    <span class="co"># Arrange</span></span>
<span id="cb24-15"><a href="#cb24-15"></a>    numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>)</span>
<span id="cb24-16"><a href="#cb24-16"></a></span>
<span id="cb24-17"><a href="#cb24-17"></a>    <span class="co"># Act</span></span>
<span id="cb24-18"><a href="#cb24-18"></a>    result <span class="ot">&lt;-</span> <span class="fu">my_sum</span>(numbers)</span>
<span id="cb24-19"><a href="#cb24-19"></a></span>
<span id="cb24-20"><a href="#cb24-20"></a>    <span class="co"># Assert</span></span>
<span id="cb24-21"><a href="#cb24-21"></a>    <span class="fu">expect_equal</span>(result, <span class="dv">1</span>)</span>
<span id="cb24-22"><a href="#cb24-22"></a>  })</span>
<span id="cb24-23"><a href="#cb24-23"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Test passed 🎉
Test passed 🎉</code></pre>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>Now can refactor the code to make it cleaner or more efficient.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="section-2" class="title-slide slide level1 center" data-auto-animate="true">
<h1 data-id="quarto-animate-title"></h1>
<div class="grid grid-cols-1 grid-rows-1 place-items-center text-xl">
<h2>
😏 That was easy.
</h2>
<div class="fragment">
<p>How do we use it for more complex problems?</p>
</div>
</div>
</section>

<section id="approaches" class="title-slide slide level1 top center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">2 approaches</h1>
<div class="text-xl">
<p>📈 Bottom-up</p>
<p>📉 Top-down</p>
</div>
</section>

<section id="approaches-1" class="title-slide slide level1 top center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">2 approaches</h1>
<div class="text-xl">
<div class="highlight">
<p>📈 Bottom-up</p>
</div>
<p>Start small. 🧱</p>
<div class="fragment">
<p>Use existing pieces of codebase. 🧩</p>
</div>
<div class="fragment">
<p>A design emerges. 🏛️</p>
</div>
<div class="muted">
<p>📉 Top-down</p>
</div>
</div>
<aside class="notes">
<ol type="1">
<li>We start small, with the smallest piece of the problem we can solve.</li>
<li>We use existing pieces of codebase.</li>
<li>We don’t know upfront how the solution will look like. We let the design emerge from the tests and code that we write.</li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="approaches-2" class="title-slide slide level1 top center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">2 approaches</h1>
<div class="text-xl">
<div class="muted">
<p>📈 Bottom-up</p>
</div>
<div class="highlight">
<p>📉 Top-down</p>
</div>
<p>List high-level objectives first. 🎯</p>
<div class="fragment">
<p>Describe behavior from user perspective. 🙌</p>
</div>
<div class="fragment">
<p>Fill in the gaps until tests pass. 🧩</p>
</div>
</div>
<aside class="notes">
<ol type="1">
<li>We focus on high-level objectives first.</li>
<li>We describe the behavior from the user perspective. If it’s a Shiny app, this is the perspective of the user interacting with the app. If it’s a package, this is a perspective of the user using the functions exported from the package.</li>
<li>We fill in the gaps in code, until tests pass.</li>
</ol>
<p>So how do we choose the approach?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="section-3" class="title-slide slide level1 center" data-auto-animate="true">
<h1 data-id="quarto-animate-title"></h1>
<div class="grid grid-cols-1 grid-rows-1 place-items-center text-xl">
<h2>
🏎️ We do what helps us move fast.
</h2>
</div>
<aside class="notes">
<p>If we’re developing a Shiny module a list of user behaviors we want to implement can be more useful. We do top-down approach.</p>
<p>If we’re developing a computation of a complex algorithm, you might want to start from the smallest piece of the algorithm and build up from there. This would be bottom-up approach.</p>
<p>We do what helps us move fast.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="section-4" class="title-slide slide level1 center" data-auto-animate="true">
<h1 data-id="quarto-animate-title"></h1>
<div class="grid grid-cols-1 grid-rows-1 place-items-center text-xl">
<h2>
🧪 Tests are the driving force.
</h2>
<div class="fragment">
<p>They tell us if the code does what we think it does.</p>
</div>
</div>
<aside class="notes">
<ol type="1">
<li>This is what Test-Driven means. Tests drive the development process.</li>
<li>They tell us what to do next and if the code we implemented does what we think it does.</li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="from-requirements-to-tests" class="title-slide slide level1 text-center center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">From requirements to tests</h1>
<div style="display:flex; justify-content:center; align-items:center; width:100%; gap:4rem;">
<div>
<p>🙋‍♀️ 💬</p>
<p>🙋‍♂️ 💬</p>
</div>
<div style="display:flex; justify-items:center; align-items:center; height:100%;">
<p>➡️</p>
</div>
<div>
<p>✅ Pass</p>
<p>✅ Pass</p>
</div>
</div>
<aside class="notes">
<p>So you probably have some requirements from your client that you need to implement. How do we get from there to tests?</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="section-5" class="title-slide slide level1 center" data-auto-animate="true">
<h1 data-id="quarto-animate-title"></h1>
<div class="grid grid-cols-1 grid-rows-1 place-items-center text-xl">
<ul>
<li>👍 Examples help us understand the problem.</li>
<li>👎 Abstract descriptions don’t.</li>
</ul>
</div>
<aside class="notes">
<p>Use specific examples. Examples are translatable to tests. Examples help us understand the problem better.</p>
<p>Abstract descriptions don’t have these properties.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="acceptance-criteria" class="title-slide slide level1 top center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">📝 Acceptance criteria</h1>
<div class="text-xl">
<p>A list of verifiable statements.</p>
<ul>
<li class="fragment">☑️ Something should do something.</li>
<li class="fragment">☑️ Something should do the other thing.</li>
</ul>
</div>
<div class="fragment">
<div class="sourceCode" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy" data-id="quarto-animate-code"><code class="sourceCode r hljs"><span id="cb26-1" class="hljs-ln-code"><a href="#cb26-1"></a><span class="fu">describe</span>(<span class="st">"something"</span>, {</span>
<span id="cb26-2" class="hljs-ln-code"><a href="#cb26-2"></a>  <span class="fu">it</span>(<span class="st">"should do something"</span>, {</span>
<span id="cb26-3" class="hljs-ln-code"><a href="#cb26-3"></a>    <span class="co"># Arrange</span></span>
<span id="cb26-4" class="hljs-ln-code"><a href="#cb26-4"></a></span>
<span id="cb26-5" class="hljs-ln-code"><a href="#cb26-5"></a>    <span class="co"># Act</span></span>
<span id="cb26-6" class="hljs-ln-code"><a href="#cb26-6"></a></span>
<span id="cb26-7" class="hljs-ln-code"><a href="#cb26-7"></a>    <span class="co"># Assert</span></span>
<span id="cb26-8" class="hljs-ln-code"><a href="#cb26-8"></a>  })</span>
<span id="cb26-9" class="hljs-ln-code"><a href="#cb26-9"></a></span>
<span id="cb26-10" class="hljs-ln-code"><a href="#cb26-10"></a>  <span class="fu">it</span>(<span class="st">"should do the other thing"</span>, {</span>
<span id="cb26-11" class="hljs-ln-code"><a href="#cb26-11"></a></span>
<span id="cb26-12" class="hljs-ln-code"><a href="#cb26-12"></a>  })</span>
<span id="cb26-13" class="hljs-ln-code"><a href="#cb26-13"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<aside class="notes">
<p>So how do we get these examples? 1. A common way of writing down requirements are acceptance criteria. They are a list of verifiable statements. 2. For example: something should do something. 3. Or it should also do the other thing when something else happens. They should be:</p>
<ul>
<li>Clear, so that everyone understands them.</li>
<li>Concise, so that there’s no ambiguity.</li>
</ul>
<ol type="1">
<li>See how easy it is to put those descriptions into a test file, then we can start filling those test.</li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="test-cases" class="title-slide slide level1 top center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">📝 Test cases</h1>
<div class="text-xl">
<div>
<p>🎯 Specific for low-level (unit) tests.</p>
</div>
<div>
<p>💬 Abstract for high-level (acceptance) tests.</p>
</div>
</div>
<aside class="notes">
<p>Some tips of writing test cases.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="test-cases-1" class="title-slide slide level1 top center" data-auto-animate="true" data-transition="none">
<h1 data-id="quarto-animate-title">📝 Test cases</h1>
<div class="text-xl">
<div class="highlight">
<p>🎯 Specific for low-level (unit) tests.</p>
</div>
<div class="line-through">
<p>☑️ It should work correctly.</p>
</div>
<div class="fragment fade-down">
<p>☑️ It should throw an error when the table has 1 row.</p>
</div>
<div class="muted">
<p>💬 Abstract for high-level (acceptance) tests.</p>
</div>
</div>
<aside class="notes">
<ol type="1">
<li>They should be specific for low-level tests, when we have a specific input and output.</li>
<li>We should be specific for tests of business logic and edge cases.</li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="test-cases-2" class="title-slide slide level1 top center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">📝 Test cases</h1>
<div class="text-xl">
<div class="muted">
<p>🎯 Specific for low-level (unit) tests.</p>
</div>
<div class="highlight">
<p>💬 Abstract for high-level (acceptance) tests.</p>
</div>
<div class="line-through">
<p>☑️ It should render the table after clicking the “Go” button.</p>
</div>
<div class="fragment fade-down">
<p>☑️ It should show the summary.</p>
</div>
</div>
<aside class="notes">
<ol type="1">
<li><p>For high-level tests, as tests of Shiny modules it’s better to make them abstract, so that they will be true even if the implementation details change.</p></li>
<li><p>For tests of a Shiny module, don’t tie requirements to the UI. Focus on the business goal. Write those requirements such as if you’ve never heard about buttons, dropdowns or inputs.</p></li>
</ol>
<p>This is the key to having test cases decoupled from implementation.</p>
<p>The example requirement would no longer be valid if we changed the label of the button, or if we removed the button altogether.</p>
<p>But the business goal would still be valid. It should show the summary, no matter how it can be achieved.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="section-6" class="title-slide slide level1 center" data-auto-animate="true">
<h1 data-id="quarto-animate-title"></h1>
<div class="grid grid-cols-1 grid-rows-1 place-items-center text-xl">
<h2>
Tests show we solved the problem.
</h2>
<p>📝 And document what we solved.</p>
</div>
<aside class="notes">
<p>So, this means that tests can show that we solved a problem. The will document it, and this documentation will be valid as long as the tests pass, compared to code comments or other documentation types which can get outdated anytime.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="section-7" class="title-slide slide level1 text-center center" data-auto-animate="true">
<h1 data-id="quarto-animate-title"></h1>
<div class="grid grid-cols-1 grid-rows-1 place-items-center text-xl">
<h2>
Drive communication with a client.
</h2>
<p>📊 Via executable examples on real data.</p>
</div>
<aside class="notes">
<p>And this also means that we can use tests to communicate with our clients better. Tests can empower them to cooperate with us more closely. They can provide us examples which we can translate into tests. Tests are artifacts they can inspect and validate if that’s what they needed.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="section-8" class="title-slide slide level1 text-center center" data-auto-animate="true">
<h1 data-id="quarto-animate-title"></h1>
<div class="grid grid-cols-1 grid-rows-1 place-items-center text-xl">
<h2>
TDD x Shiny
</h2>
<ul>
<li class="fragment"><p>📦 The testable unit of an app is a Shiny module.</p></li>
<li class="fragment"><p>✨ It represents a feature.</p></li>
<li class="fragment"><p>🖥️ It can be run as a standalone app.</p></li>
</ul>
</div>
<aside class="notes">
<p>So let’s see how we can use TDD with Shiny.</p>
<p>There are 3 things we need to know before we start.</p>
<ol type="1">
<li>The testable uning of a Shiny app is a Shiny module.</li>
<li>A module can represent a feature, and by feature I mean a part or the whole problem we’re solving with the app.</li>
<li>And that we can easily run modules as standalone Shiny apps.</li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="section-9" class="title-slide slide level1 center" data-auto-animate="true">
<h1 data-id="quarto-animate-title"></h1>
<div class="grid grid-cols-5 grid-rows-1 place-items-center">
<div class="col-span-2 justify-self-end">
<h1>
Example
</h1>
</div>
<div class="col-span-3">
<p><img data-src="./assets/arrow.png"></p>
</div>
</div>
<aside class="notes">
<p>Let’s see in practice how the process looks like.</p>
<p>We’ll implement a module that shows a summary of a dataset.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="red-4" class="title-slide slide level1 top center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">❌ Red</h1>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-animateid="code3">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>dataset_summary.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a><span class="co">#</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-animateid="code4">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>test-dataset_summary.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a><span class="fu">describe</span>(<span class="st">"dataset summary"</span>, {</span>
<span id="cb28-2"><a href="#cb28-2"></a>  <span class="fu">it</span>(<span class="st">"should show the summary"</span>, {</span>
<span id="cb28-3"><a href="#cb28-3"></a>    <span class="fu">fail</span>(<span class="st">"Not implemented"</span>)</span>
<span id="cb28-4"><a href="#cb28-4"></a>  })</span>
<span id="cb28-5"><a href="#cb28-5"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>── Failure: dataset summary: should show the summary ───────────────────────────
Not implemented</code></pre>
</div>
<div class="cell-output cell-output-error">
<pre><code>Error:
! Test failed</code></pre>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>We start from an empty tests. Same as we did in the first example.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="red-5" class="title-slide slide level1 top center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">❌ Red</h1>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-animateid="code3">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>dataset_summary.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="co">#</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-animateid="code4">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>test-dataset_summary.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb32" data-code-line-numbers="3-7|8|10|12-13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="fu">describe</span>(<span class="st">"dataset summary"</span>, {</span>
<span id="cb32-2"><a href="#cb32-2"></a>  <span class="fu">it</span>(<span class="st">"should show the summary"</span>, {</span>
<span id="cb32-3"><a href="#cb32-3"></a>    <span class="co"># Arrange</span></span>
<span id="cb32-4"><a href="#cb32-4"></a>    app <span class="ot">&lt;-</span> <span class="fu">shinyApp</span>(</span>
<span id="cb32-5"><a href="#cb32-5"></a>      <span class="at">ui =</span> <span class="fu">dataset_summary_ui</span>(<span class="cn">NULL</span>),</span>
<span id="cb32-6"><a href="#cb32-6"></a>      <span class="at">server =</span> \(input, output) <span class="fu">dataset_summary_server</span>(<span class="cn">NULL</span>)</span>
<span id="cb32-7"><a href="#cb32-7"></a>    )</span>
<span id="cb32-8"><a href="#cb32-8"></a>    page <span class="ot">&lt;-</span> DatasetSummary<span class="sc">$</span><span class="fu">new</span>(app)</span>
<span id="cb32-9"><a href="#cb32-9"></a></span>
<span id="cb32-10"><a href="#cb32-10"></a>    <span class="co"># Act</span></span>
<span id="cb32-11"><a href="#cb32-11"></a></span>
<span id="cb32-12"><a href="#cb32-12"></a>    <span class="co"># Assert</span></span>
<span id="cb32-13"><a href="#cb32-13"></a>    page<span class="sc">$</span><span class="fu">expect_summary_visible</span>()</span>
<span id="cb32-14"><a href="#cb32-14"></a>    <span class="fu">fail</span>(<span class="st">"Not implemented"</span>)</span>
<span id="cb32-15"><a href="#cb32-15"></a>  })</span>
<span id="cb32-16"><a href="#cb32-16"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>── Error: dataset summary: should show the summary ─────────────────────────────
Error in `dataset_summary_ui(NULL)`: could not find function "dataset_summary_ui"
Backtrace:
    ▆
 1. └─shiny::shinyApp(...)
 2.   └─shiny:::uiHttpHandler(ui, uiPattern)
 3.     └─base::force(ui)</code></pre>
</div>
<div class="cell-output cell-output-error">
<pre><code>Error:
! Test failed</code></pre>
</div>
</div>
</div>
</div>
<aside class="notes">
<ol type="1">
<li>We start from setting up the environment. We create a Shiny app from the nonexistent module.</li>
<li>Then we create an object that represents the module, it will be a proxy for communicating with the module. We will create it in next steps. For now our only focus is to imagine how we want to use it. We provide human-readable methods that will hide implementation details of the test. This will make tests easier to understand and maintain. Instead of using an object we could use functions. This doesn’t matter, do what feels more natural to you. The important part is that we’re abstracting the actions we can take on the module.</li>
<li>We don’t do anything in the execution part in this test. We test the default behavior, when no actions were taken, so it’s about the initial state of the module.</li>
<li>We assert that the summary is visible.</li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="red-6" class="title-slide slide level1 top center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">❌ Red</h1>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-animateid="code3">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>dataset_summary.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>dataset_summary_ui <span class="ot">&lt;-</span> <span class="cf">function</span>(id) {</span>
<span id="cb35-2"><a href="#cb35-2"></a>  <span class="fu">fluidPage</span>()</span>
<span id="cb35-3"><a href="#cb35-3"></a>}</span>
<span id="cb35-4"><a href="#cb35-4"></a></span>
<span id="cb35-5"><a href="#cb35-5"></a>dataset_summary_server <span class="ot">&lt;-</span> <span class="cf">function</span>(id) {</span>
<span id="cb35-6"><a href="#cb35-6"></a>  <span class="fu">moduleServer</span>(id, <span class="cf">function</span>(input, output, session) {</span>
<span id="cb35-7"><a href="#cb35-7"></a></span>
<span id="cb35-8"><a href="#cb35-8"></a>  })</span>
<span id="cb35-9"><a href="#cb35-9"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-animateid="code4">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>test-dataset_summary.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="fu">describe</span>(<span class="st">"dataset summary"</span>, {</span>
<span id="cb36-2"><a href="#cb36-2"></a>  <span class="fu">it</span>(<span class="st">"should show the summary"</span>, {</span>
<span id="cb36-3"><a href="#cb36-3"></a>    <span class="co"># Arrange</span></span>
<span id="cb36-4"><a href="#cb36-4"></a>    app <span class="ot">&lt;-</span> <span class="fu">shinyApp</span>(</span>
<span id="cb36-5"><a href="#cb36-5"></a>      <span class="at">ui =</span> <span class="fu">dataset_summary_ui</span>(<span class="cn">NULL</span>),</span>
<span id="cb36-6"><a href="#cb36-6"></a>      <span class="at">server =</span> <span class="cf">function</span>(input, output) <span class="fu">dataset_summary_server</span>(<span class="cn">NULL</span>)</span>
<span id="cb36-7"><a href="#cb36-7"></a>    )</span>
<span id="cb36-8"><a href="#cb36-8"></a>    page <span class="ot">&lt;-</span> DatasetSummary<span class="sc">$</span><span class="fu">new</span>(app)</span>
<span id="cb36-9"><a href="#cb36-9"></a></span>
<span id="cb36-10"><a href="#cb36-10"></a>    <span class="co"># Act</span></span>
<span id="cb36-11"><a href="#cb36-11"></a></span>
<span id="cb36-12"><a href="#cb36-12"></a>    <span class="co"># Assert</span></span>
<span id="cb36-13"><a href="#cb36-13"></a>    page<span class="sc">$</span><span class="fu">expect_summary_visible</span>()</span>
<span id="cb36-14"><a href="#cb36-14"></a>    <span class="fu">fail</span>(<span class="st">"Not implemented"</span>)</span>
<span id="cb36-15"><a href="#cb36-15"></a>  })</span>
<span id="cb36-16"><a href="#cb36-16"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>── Error: dataset summary: should show the summary ─────────────────────────────
Error in `eval(code, test_env)`: object 'DatasetSummary' not found</code></pre>
</div>
<div class="cell-output cell-output-error">
<pre><code>Error:
! Test failed</code></pre>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>When we provide the skeleton of the module, the test failure message changes. Now we need to implement the <code>DatasetSummary</code> object.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="red-7" class="title-slide slide level1 top center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">❌ Red</h1>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-animateid="code3">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>dataset_summary.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>dataset_summary_ui <span class="ot">&lt;-</span> <span class="cf">function</span>(id) {</span>
<span id="cb39-2"><a href="#cb39-2"></a>  <span class="fu">fluidPage</span>()</span>
<span id="cb39-3"><a href="#cb39-3"></a>}</span>
<span id="cb39-4"><a href="#cb39-4"></a></span>
<span id="cb39-5"><a href="#cb39-5"></a>dataset_summary_server <span class="ot">&lt;-</span> <span class="cf">function</span>(id) {</span>
<span id="cb39-6"><a href="#cb39-6"></a>  <span class="fu">moduleServer</span>(id, <span class="cf">function</span>(input, output, session) {</span>
<span id="cb39-7"><a href="#cb39-7"></a></span>
<span id="cb39-8"><a href="#cb39-8"></a>  })</span>
<span id="cb39-9"><a href="#cb39-9"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-animateid="code4" data-hash="index_cache/revealjs/unnamed-chunk-23_67feabcaad0929c3324e1a1791c4d6f7">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>test-dataset_summary.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb40" data-code-line-numbers="1-12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a>DatasetSummary <span class="ot">&lt;-</span> R6<span class="sc">::</span><span class="fu">R6Class</span>(</span>
<span id="cb40-2"><a href="#cb40-2"></a>  <span class="at">classname =</span> <span class="st">"DatasetSummary"</span>,</span>
<span id="cb40-3"><a href="#cb40-3"></a>  <span class="at">public =</span> <span class="fu">list</span>(</span>
<span id="cb40-4"><a href="#cb40-4"></a>    <span class="at">driver =</span> <span class="cn">NULL</span>,</span>
<span id="cb40-5"><a href="#cb40-5"></a>    <span class="at">initialize =</span> <span class="cf">function</span>(app) {</span>
<span id="cb40-6"><a href="#cb40-6"></a>      self<span class="sc">$</span>driver <span class="ot">&lt;-</span> AppDriver<span class="sc">$</span><span class="fu">new</span>(app)</span>
<span id="cb40-7"><a href="#cb40-7"></a>    },</span>
<span id="cb40-8"><a href="#cb40-8"></a>    <span class="at">expect_summary_visible =</span> <span class="cf">function</span>() {</span>
<span id="cb40-9"><a href="#cb40-9"></a></span>
<span id="cb40-10"><a href="#cb40-10"></a>    }</span>
<span id="cb40-11"><a href="#cb40-11"></a>  )</span>
<span id="cb40-12"><a href="#cb40-12"></a>)</span>
<span id="cb40-13"><a href="#cb40-13"></a></span>
<span id="cb40-14"><a href="#cb40-14"></a><span class="fu">describe</span>(<span class="st">"dataset summary"</span>, {</span>
<span id="cb40-15"><a href="#cb40-15"></a>  <span class="fu">it</span>(<span class="st">"should show the summary"</span>, {</span>
<span id="cb40-16"><a href="#cb40-16"></a>    <span class="co"># Arrange</span></span>
<span id="cb40-17"><a href="#cb40-17"></a>    app <span class="ot">&lt;-</span> <span class="fu">shinyApp</span>(</span>
<span id="cb40-18"><a href="#cb40-18"></a>      <span class="at">ui =</span> <span class="fu">dataset_summary_ui</span>(<span class="cn">NULL</span>),</span>
<span id="cb40-19"><a href="#cb40-19"></a>      <span class="at">server =</span> <span class="cf">function</span>(input, output) <span class="fu">dataset_summary_server</span>(<span class="cn">NULL</span>)</span>
<span id="cb40-20"><a href="#cb40-20"></a>    )</span>
<span id="cb40-21"><a href="#cb40-21"></a>    page <span class="ot">&lt;-</span> DatasetSummary<span class="sc">$</span><span class="fu">new</span>(app)</span>
<span id="cb40-22"><a href="#cb40-22"></a></span>
<span id="cb40-23"><a href="#cb40-23"></a>    <span class="co"># Act</span></span>
<span id="cb40-24"><a href="#cb40-24"></a></span>
<span id="cb40-25"><a href="#cb40-25"></a>    <span class="co"># Assert</span></span>
<span id="cb40-26"><a href="#cb40-26"></a>    page<span class="sc">$</span><span class="fu">expect_summary_visible</span>()</span>
<span id="cb40-27"><a href="#cb40-27"></a>    <span class="fu">fail</span>(<span class="st">"Not implemented"</span>)</span>
<span id="cb40-28"><a href="#cb40-28"></a>  })</span>
<span id="cb40-29"><a href="#cb40-29"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>── Failure: dataset summary: should show the summary ───────────────────────────
Not implemented</code></pre>
</div>
<div class="cell-output cell-output-error">
<pre><code>Error:
! Test failed</code></pre>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>This is where shinytest2 comes in handy. We can use it to interact with the app from within DatasetSummary methods. Wrapping shinytest2 calls in methods ensures that no implementation details are leaked into the test cases. Everything is contained within those methods.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="red-8" class="title-slide slide level1 top center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">❌ Red</h1>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-animateid="code3">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>dataset_summary.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a>dataset_summary_ui <span class="ot">&lt;-</span> <span class="cf">function</span>(id) {</span>
<span id="cb43-2"><a href="#cb43-2"></a>  <span class="fu">fluidPage</span>()</span>
<span id="cb43-3"><a href="#cb43-3"></a>}</span>
<span id="cb43-4"><a href="#cb43-4"></a></span>
<span id="cb43-5"><a href="#cb43-5"></a>dataset_summary_server <span class="ot">&lt;-</span> <span class="cf">function</span>(id) {</span>
<span id="cb43-6"><a href="#cb43-6"></a>  <span class="fu">moduleServer</span>(id, <span class="cf">function</span>(input, output, session) {</span>
<span id="cb43-7"><a href="#cb43-7"></a></span>
<span id="cb43-8"><a href="#cb43-8"></a>  })</span>
<span id="cb43-9"><a href="#cb43-9"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-animateid="code4" data-hash="index_cache/revealjs/unnamed-chunk-25_ef31b6c0e22f0606a24877a8c122b43d">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>test-dataset_summary.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb44" data-code-line-numbers="17-25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>DatasetSummary <span class="ot">&lt;-</span> R6<span class="sc">::</span><span class="fu">R6Class</span>(</span>
<span id="cb44-2"><a href="#cb44-2"></a>  <span class="at">classname =</span> <span class="st">"DatasetSummary"</span>,</span>
<span id="cb44-3"><a href="#cb44-3"></a>  <span class="at">public =</span> <span class="fu">list</span>(</span>
<span id="cb44-4"><a href="#cb44-4"></a>    <span class="at">driver =</span> <span class="cn">NULL</span>,</span>
<span id="cb44-5"><a href="#cb44-5"></a>    <span class="at">initialize =</span> <span class="cf">function</span>(app) {</span>
<span id="cb44-6"><a href="#cb44-6"></a>      self<span class="sc">$</span>driver <span class="ot">&lt;-</span> AppDriver<span class="sc">$</span><span class="fu">new</span>(app)</span>
<span id="cb44-7"><a href="#cb44-7"></a>    },</span>
<span id="cb44-8"><a href="#cb44-8"></a>    <span class="at">expect_summary_visible =</span> <span class="cf">function</span>() {</span>
<span id="cb44-9"><a href="#cb44-9"></a></span>
<span id="cb44-10"><a href="#cb44-10"></a>    }</span>
<span id="cb44-11"><a href="#cb44-11"></a>  )</span>
<span id="cb44-12"><a href="#cb44-12"></a>)</span>
<span id="cb44-13"><a href="#cb44-13"></a></span>
<span id="cb44-14"><a href="#cb44-14"></a><span class="fu">describe</span>(<span class="st">"dataset summary"</span>, {</span>
<span id="cb44-15"><a href="#cb44-15"></a>  <span class="fu">it</span>(<span class="st">"should show the summary"</span>, {</span>
<span id="cb44-16"><a href="#cb44-16"></a>    <span class="co"># Arrange</span></span>
<span id="cb44-17"><a href="#cb44-17"></a>    app <span class="ot">&lt;-</span> <span class="fu">shinyApp</span>(</span>
<span id="cb44-18"><a href="#cb44-18"></a>      <span class="at">ui =</span> <span class="fu">dataset_summary_ui</span>(<span class="cn">NULL</span>),</span>
<span id="cb44-19"><a href="#cb44-19"></a>      <span class="at">server =</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb44-20"><a href="#cb44-20"></a>        data_provider <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">get_summary =</span> \() {</span>
<span id="cb44-21"><a href="#cb44-21"></a>          iris</span>
<span id="cb44-22"><a href="#cb44-22"></a>        })</span>
<span id="cb44-23"><a href="#cb44-23"></a>        <span class="fu">dataset_summary_server</span>(<span class="cn">NULL</span>, data_provider)</span>
<span id="cb44-24"><a href="#cb44-24"></a>      }</span>
<span id="cb44-25"><a href="#cb44-25"></a>    )</span>
<span id="cb44-26"><a href="#cb44-26"></a>    page <span class="ot">&lt;-</span> DatasetSummary<span class="sc">$</span><span class="fu">new</span>(app)</span>
<span id="cb44-27"><a href="#cb44-27"></a></span>
<span id="cb44-28"><a href="#cb44-28"></a>    <span class="co"># Act</span></span>
<span id="cb44-29"><a href="#cb44-29"></a></span>
<span id="cb44-30"><a href="#cb44-30"></a>    <span class="co"># Assert</span></span>
<span id="cb44-31"><a href="#cb44-31"></a>    page<span class="sc">$</span><span class="fu">expect_summary_visible</span>()</span>
<span id="cb44-32"><a href="#cb44-32"></a>    <span class="fu">fail</span>(<span class="st">"Not implemented"</span>)</span>
<span id="cb44-33"><a href="#cb44-33"></a>  })</span>
<span id="cb44-34"><a href="#cb44-34"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>── Failure: dataset summary: should show the summary ───────────────────────────
Not implemented</code></pre>
</div>
<div class="cell-output cell-output-error">
<pre><code>Error:
! Test failed</code></pre>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>Now we may realize, that we need data to show the summary. We can provide it through a data provider object. This could be an existing object in the app, or if we’re starting a new app, this can be a fake object that represents a way of getting the data. This way we can test the module in isolation, without the access to the real data. What matters is the interface.</p>
<p>So this data provider just serves the iris dataset via it’s get_summary method. The module doesn’t know how the data is provided, it just needs to know how to get it. It could be from disk, from a database, it doesn’t matter here.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="red-9" class="title-slide slide level1 top center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">❌ Red</h1>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-animateid="code3">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>dataset_summary.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>dataset_summary_ui <span class="ot">&lt;-</span> <span class="cf">function</span>(id) {</span>
<span id="cb47-2"><a href="#cb47-2"></a>  <span class="fu">fluidPage</span>()</span>
<span id="cb47-3"><a href="#cb47-3"></a>}</span>
<span id="cb47-4"><a href="#cb47-4"></a></span>
<span id="cb47-5"><a href="#cb47-5"></a>dataset_summary_server <span class="ot">&lt;-</span> <span class="cf">function</span>(id, data_provider) {</span>
<span id="cb47-6"><a href="#cb47-6"></a>  <span class="fu">moduleServer</span>(id, <span class="cf">function</span>(input, output, session) {</span>
<span id="cb47-7"><a href="#cb47-7"></a></span>
<span id="cb47-8"><a href="#cb47-8"></a>  })</span>
<span id="cb47-9"><a href="#cb47-9"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-animateid="code4" data-hash="index_cache/revealjs/unnamed-chunk-27_27457045c387fc6c1aca764bdfbae8df">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>test-dataset_summary.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb48" data-code-line-numbers="17-25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>DatasetSummary <span class="ot">&lt;-</span> R6<span class="sc">::</span><span class="fu">R6Class</span>(</span>
<span id="cb48-2"><a href="#cb48-2"></a>  <span class="at">classname =</span> <span class="st">"DatasetSummary"</span>,</span>
<span id="cb48-3"><a href="#cb48-3"></a>  <span class="at">public =</span> <span class="fu">list</span>(</span>
<span id="cb48-4"><a href="#cb48-4"></a>    <span class="at">driver =</span> <span class="cn">NULL</span>,</span>
<span id="cb48-5"><a href="#cb48-5"></a>    <span class="at">initialize =</span> <span class="cf">function</span>(app) {</span>
<span id="cb48-6"><a href="#cb48-6"></a>      self<span class="sc">$</span>driver <span class="ot">&lt;-</span> AppDriver<span class="sc">$</span><span class="fu">new</span>(app)</span>
<span id="cb48-7"><a href="#cb48-7"></a>    },</span>
<span id="cb48-8"><a href="#cb48-8"></a>    <span class="at">expect_summary_visible =</span> <span class="cf">function</span>() {</span>
<span id="cb48-9"><a href="#cb48-9"></a></span>
<span id="cb48-10"><a href="#cb48-10"></a>    }</span>
<span id="cb48-11"><a href="#cb48-11"></a>  )</span>
<span id="cb48-12"><a href="#cb48-12"></a>)</span>
<span id="cb48-13"><a href="#cb48-13"></a></span>
<span id="cb48-14"><a href="#cb48-14"></a><span class="fu">describe</span>(<span class="st">"dataset summary"</span>, {</span>
<span id="cb48-15"><a href="#cb48-15"></a>  <span class="fu">it</span>(<span class="st">"should show the summary"</span>, {</span>
<span id="cb48-16"><a href="#cb48-16"></a>    <span class="co"># Arrange</span></span>
<span id="cb48-17"><a href="#cb48-17"></a>    app <span class="ot">&lt;-</span> <span class="fu">shinyApp</span>(</span>
<span id="cb48-18"><a href="#cb48-18"></a>      <span class="at">ui =</span> <span class="fu">dataset_summary_ui</span>(<span class="cn">NULL</span>),</span>
<span id="cb48-19"><a href="#cb48-19"></a>      <span class="at">server =</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb48-20"><a href="#cb48-20"></a>        data_provider <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">get_summary =</span> \() {</span>
<span id="cb48-21"><a href="#cb48-21"></a>          iris</span>
<span id="cb48-22"><a href="#cb48-22"></a>        })</span>
<span id="cb48-23"><a href="#cb48-23"></a>        <span class="fu">dataset_summary_server</span>(<span class="cn">NULL</span>, data_provider)</span>
<span id="cb48-24"><a href="#cb48-24"></a>      }</span>
<span id="cb48-25"><a href="#cb48-25"></a>    )</span>
<span id="cb48-26"><a href="#cb48-26"></a>    page <span class="ot">&lt;-</span> DatasetSummary<span class="sc">$</span><span class="fu">new</span>(app)</span>
<span id="cb48-27"><a href="#cb48-27"></a></span>
<span id="cb48-28"><a href="#cb48-28"></a>    <span class="co"># Act</span></span>
<span id="cb48-29"><a href="#cb48-29"></a></span>
<span id="cb48-30"><a href="#cb48-30"></a>    <span class="co"># Assert</span></span>
<span id="cb48-31"><a href="#cb48-31"></a>    page<span class="sc">$</span><span class="fu">expect_summary_visible</span>()</span>
<span id="cb48-32"><a href="#cb48-32"></a>    <span class="fu">fail</span>(<span class="st">"Not implemented"</span>)</span>
<span id="cb48-33"><a href="#cb48-33"></a>  })</span>
<span id="cb48-34"><a href="#cb48-34"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>── Failure: dataset summary: should show the summary ───────────────────────────
Not implemented</code></pre>
</div>
<div class="cell-output cell-output-error">
<pre><code>Error:
! Test failed</code></pre>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>Here we’re evolving the interface of our module so that the data_provider can be passed to it. Notice how testing promotes dependency injection.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="red-10" class="title-slide slide level1 top center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">❌ Red</h1>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-animateid="code3">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>dataset_summary.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>dataset_summary_ui <span class="ot">&lt;-</span> <span class="cf">function</span>(id) {</span>
<span id="cb51-2"><a href="#cb51-2"></a>  <span class="fu">fluidPage</span>()</span>
<span id="cb51-3"><a href="#cb51-3"></a>}</span>
<span id="cb51-4"><a href="#cb51-4"></a></span>
<span id="cb51-5"><a href="#cb51-5"></a>dataset_summary_server <span class="ot">&lt;-</span> <span class="cf">function</span>(id, data_provider) {</span>
<span id="cb51-6"><a href="#cb51-6"></a>  <span class="fu">moduleServer</span>(id, <span class="cf">function</span>(input, output, session) {</span>
<span id="cb51-7"><a href="#cb51-7"></a></span>
<span id="cb51-8"><a href="#cb51-8"></a>  })</span>
<span id="cb51-9"><a href="#cb51-9"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<div class="flex flex-col items-center justify-center text-lg mt-4">
<p>🎯 <code>{selenider}</code></p>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-animateid="code4" data-hash="index_cache/revealjs/unnamed-chunk-29_52b1ec30ab89ae02ca485af544b00c3d">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>test-dataset_summary.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb52" data-code-line-numbers="8-11|13-17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a>DatasetSummary <span class="ot">&lt;-</span> R6<span class="sc">::</span><span class="fu">R6Class</span>(</span>
<span id="cb52-2"><a href="#cb52-2"></a>  <span class="at">classname =</span> <span class="st">"DatasetSummary"</span>,</span>
<span id="cb52-3"><a href="#cb52-3"></a>  <span class="at">public =</span> <span class="fu">list</span>(</span>
<span id="cb52-4"><a href="#cb52-4"></a>    <span class="at">driver =</span> <span class="cn">NULL</span>,</span>
<span id="cb52-5"><a href="#cb52-5"></a>    <span class="at">selenider =</span> <span class="cn">NULL</span>,</span>
<span id="cb52-6"><a href="#cb52-6"></a>    <span class="at">initialize =</span> <span class="cf">function</span>(app) {</span>
<span id="cb52-7"><a href="#cb52-7"></a>      self<span class="sc">$</span>driver <span class="ot">&lt;-</span> AppDriver<span class="sc">$</span><span class="fu">new</span>(app)</span>
<span id="cb52-8"><a href="#cb52-8"></a>      self<span class="sc">$</span>selenider <span class="ot">&lt;-</span> <span class="fu">selenider_session</span>(</span>
<span id="cb52-9"><a href="#cb52-9"></a>        <span class="at">driver =</span> self<span class="sc">$</span>driver,</span>
<span id="cb52-10"><a href="#cb52-10"></a>        <span class="at">local =</span> <span class="cn">FALSE</span></span>
<span id="cb52-11"><a href="#cb52-11"></a>      )</span>
<span id="cb52-12"><a href="#cb52-12"></a>    },</span>
<span id="cb52-13"><a href="#cb52-13"></a>    <span class="at">expect_summary_visible =</span> <span class="cf">function</span>() {</span>
<span id="cb52-14"><a href="#cb52-14"></a>      <span class="fu">find_element</span>(self<span class="sc">$</span>selenider, <span class="at">css =</span> <span class="st">"#summary &gt; table"</span>) <span class="sc">|&gt;</span></span>
<span id="cb52-15"><a href="#cb52-15"></a>        <span class="fu">elem_expect</span>(is_visible) <span class="sc">|&gt;</span></span>
<span id="cb52-16"><a href="#cb52-16"></a>        <span class="fu">elem_expect</span>(\(x) <span class="fu">has_at_least</span>(<span class="fu">elem_children</span>(x), <span class="dv">1</span>))</span>
<span id="cb52-17"><a href="#cb52-17"></a>    }</span>
<span id="cb52-18"><a href="#cb52-18"></a>  )</span>
<span id="cb52-19"><a href="#cb52-19"></a>)</span>
<span id="cb52-20"><a href="#cb52-20"></a></span>
<span id="cb52-21"><a href="#cb52-21"></a><span class="fu">describe</span>(<span class="st">"dataset summary"</span>, {</span>
<span id="cb52-22"><a href="#cb52-22"></a>  <span class="fu">it</span>(<span class="st">"should show the summary"</span>, {</span>
<span id="cb52-23"><a href="#cb52-23"></a>    <span class="co"># Arrange</span></span>
<span id="cb52-24"><a href="#cb52-24"></a>    app <span class="ot">&lt;-</span> <span class="fu">shinyApp</span>(</span>
<span id="cb52-25"><a href="#cb52-25"></a>      <span class="at">ui =</span> <span class="fu">dataset_summary_ui</span>(<span class="cn">NULL</span>),</span>
<span id="cb52-26"><a href="#cb52-26"></a>      <span class="at">server =</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb52-27"><a href="#cb52-27"></a>        data_provider <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb52-28"><a href="#cb52-28"></a>          <span class="at">get_summary =</span> <span class="cf">function</span>() {</span>
<span id="cb52-29"><a href="#cb52-29"></a>            iris</span>
<span id="cb52-30"><a href="#cb52-30"></a>          }</span>
<span id="cb52-31"><a href="#cb52-31"></a>        )</span>
<span id="cb52-32"><a href="#cb52-32"></a>        <span class="fu">dataset_summary_server</span>(<span class="cn">NULL</span>, data_provider)</span>
<span id="cb52-33"><a href="#cb52-33"></a>      }</span>
<span id="cb52-34"><a href="#cb52-34"></a>    )</span>
<span id="cb52-35"><a href="#cb52-35"></a>    page <span class="ot">&lt;-</span> DatasetSummary<span class="sc">$</span><span class="fu">new</span>(app)</span>
<span id="cb52-36"><a href="#cb52-36"></a></span>
<span id="cb52-37"><a href="#cb52-37"></a>    <span class="co"># Act</span></span>
<span id="cb52-38"><a href="#cb52-38"></a></span>
<span id="cb52-39"><a href="#cb52-39"></a>    <span class="co"># Assert</span></span>
<span id="cb52-40"><a href="#cb52-40"></a>    page<span class="sc">$</span><span class="fu">expect_summary_visible</span>()</span>
<span id="cb52-41"><a href="#cb52-41"></a>  })</span>
<span id="cb52-42"><a href="#cb52-42"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>── Failure: dataset summary: should show the summary ───────────────────────────
Condition failed:
`is_visible`
ℹ `x` is not visible.
Caused by error in `is_visible()`:
! `x` does not exist in the DOM.

Where `x` is:
A selenider element selecting:
The first element with css selector "#summary &gt; table".


Backtrace:
     ▆
  1. ├─page$expect_summary_visible()
  2. │ └─selenider::elem_expect(...)
  3. │   └─selenider:::eval_conditions(x, dots, timeout)
  4. │     └─selenider:::eval_condition(x)
  5. │       ├─rlang::try_fetch(...)
  6. │       │ └─base::withCallingHandlers(...)
  7. │       ├─selenider:::with_timeout(0, eval_tidy(x, data = data_mask))
  8. │       │ └─base::force(code)
  9. │       └─rlang::eval_tidy(x, data = data_mask)
 10. └─selenider::elem_expect(...)

── Failure: dataset summary: should show the summary ───────────────────────────
Condition failed after waiting for 4 seconds:
`function(x) has_at_least(elem_children(x), 1)`
ℹ `x` does not exist, which may have caused the condition to fail.
Caused by error in `value[[3L]]()`:
! `x`'s parent element does not exist in the DOM.

Where `x` is:
A selenider element selecting:
The first element with css selector "#summary &gt; table".


Backtrace:
    ▆
 1. └─page$expect_summary_visible()
 2.   └─selenider::elem_expect(...)</code></pre>
</div>
<div class="cell-output cell-output-error">
<pre><code>Error:
! Test failed</code></pre>
</div>
</div>
</div>
</div>
<aside class="notes">
<ol type="1">
<li>Next we can focus on the assertion.</li>
</ol>
<p>I’m using functions from selenider package that provides a few nice assertions on an object derived from the AppDriver.</p>
<ol start="2" type="1">
<li>Think for a moment what outcome means that you met your objective.</li>
</ol>
<p>In this case, asserting that the table is visible and that it has at least one row is a good way to ensure that the summary is shown.</p>
<p>Notice how this assertion is in a method. This way we can reuse it in other test cases. If at any point in time, our undestanding changes, we can change the implementation of this method, and all tests will be updated.</p>
<p>Pay attention to the name of the method. It’s abstract, it doesn’t mention the UI, that it’s a table. If we decide to show the summary as a plot, this would still be valid. It’s the same business goal, we don’t mention how it’s achieved.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="green-2" class="title-slide slide level1 top center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">✅ Green</h1>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell" data-animateid="code3">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>dataset_summary.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a>dataset_summary_ui <span class="ot">&lt;-</span> <span class="cf">function</span>(id) {</span>
<span id="cb55-2"><a href="#cb55-2"></a>  ns <span class="ot">&lt;-</span> <span class="fu">NS</span>(id)</span>
<span id="cb55-3"><a href="#cb55-3"></a>  <span class="fu">fluidPage</span>(</span>
<span id="cb55-4"><a href="#cb55-4"></a>    <span class="fu">tableOutput</span>(<span class="fu">ns</span>(<span class="st">"summary"</span>))</span>
<span id="cb55-5"><a href="#cb55-5"></a>  )</span>
<span id="cb55-6"><a href="#cb55-6"></a>}</span>
<span id="cb55-7"><a href="#cb55-7"></a></span>
<span id="cb55-8"><a href="#cb55-8"></a>dataset_summary_server <span class="ot">&lt;-</span> <span class="cf">function</span>(id, data_provider) {</span>
<span id="cb55-9"><a href="#cb55-9"></a>  <span class="fu">moduleServer</span>(id, <span class="cf">function</span>(input, output, session) {</span>
<span id="cb55-10"><a href="#cb55-10"></a>    output<span class="sc">$</span>summary <span class="ot">&lt;-</span> <span class="fu">renderTable</span>({</span>
<span id="cb55-11"><a href="#cb55-11"></a>      data_provider<span class="sc">$</span><span class="fu">get_summary</span>()</span>
<span id="cb55-12"><a href="#cb55-12"></a>    })</span>
<span id="cb55-13"><a href="#cb55-13"></a>  })</span>
<span id="cb55-14"><a href="#cb55-14"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-animateid="code4" data-code-height="700px" data-hash="index_cache/revealjs/unnamed-chunk-31_75c64369dea51c501925666e1eed1d25">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>test-dataset_summary.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb56" data-code-line-numbers="40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1"></a>DatasetSummary <span class="ot">&lt;-</span> R6<span class="sc">::</span><span class="fu">R6Class</span>(</span>
<span id="cb56-2"><a href="#cb56-2"></a>  <span class="at">classname =</span> <span class="st">"DatasetSummary"</span>,</span>
<span id="cb56-3"><a href="#cb56-3"></a>  <span class="at">public =</span> <span class="fu">list</span>(</span>
<span id="cb56-4"><a href="#cb56-4"></a>    <span class="at">driver =</span> <span class="cn">NULL</span>,</span>
<span id="cb56-5"><a href="#cb56-5"></a>    <span class="at">selenider =</span> <span class="cn">NULL</span>,</span>
<span id="cb56-6"><a href="#cb56-6"></a>    <span class="at">initialize =</span> <span class="cf">function</span>(app) {</span>
<span id="cb56-7"><a href="#cb56-7"></a>      self<span class="sc">$</span>driver <span class="ot">&lt;-</span> AppDriver<span class="sc">$</span><span class="fu">new</span>(app)</span>
<span id="cb56-8"><a href="#cb56-8"></a>      self<span class="sc">$</span>selenider <span class="ot">&lt;-</span> <span class="fu">selenider_session</span>(</span>
<span id="cb56-9"><a href="#cb56-9"></a>        <span class="at">driver =</span> self<span class="sc">$</span>driver,</span>
<span id="cb56-10"><a href="#cb56-10"></a>        <span class="at">local =</span> <span class="cn">FALSE</span></span>
<span id="cb56-11"><a href="#cb56-11"></a>      )</span>
<span id="cb56-12"><a href="#cb56-12"></a>    },</span>
<span id="cb56-13"><a href="#cb56-13"></a>    <span class="at">expect_summary_visible =</span> <span class="cf">function</span>() {</span>
<span id="cb56-14"><a href="#cb56-14"></a>      <span class="fu">find_element</span>(self<span class="sc">$</span>selenider, <span class="at">css =</span> <span class="st">"#summary &gt; table"</span>) <span class="sc">|&gt;</span></span>
<span id="cb56-15"><a href="#cb56-15"></a>        <span class="fu">elem_expect</span>(is_visible) <span class="sc">|&gt;</span></span>
<span id="cb56-16"><a href="#cb56-16"></a>        <span class="fu">elem_expect</span>(\(x) <span class="fu">has_at_least</span>(<span class="fu">elem_children</span>(x), <span class="dv">1</span>))</span>
<span id="cb56-17"><a href="#cb56-17"></a>    }</span>
<span id="cb56-18"><a href="#cb56-18"></a>  )</span>
<span id="cb56-19"><a href="#cb56-19"></a>)</span>
<span id="cb56-20"><a href="#cb56-20"></a></span>
<span id="cb56-21"><a href="#cb56-21"></a><span class="fu">describe</span>(<span class="st">"dataset summary"</span>, {</span>
<span id="cb56-22"><a href="#cb56-22"></a>  <span class="fu">it</span>(<span class="st">"should show the summary"</span>, {</span>
<span id="cb56-23"><a href="#cb56-23"></a>    <span class="co"># Arrange</span></span>
<span id="cb56-24"><a href="#cb56-24"></a>    app <span class="ot">&lt;-</span> <span class="fu">shinyApp</span>(</span>
<span id="cb56-25"><a href="#cb56-25"></a>      <span class="at">ui =</span> <span class="fu">dataset_summary_ui</span>(<span class="cn">NULL</span>),</span>
<span id="cb56-26"><a href="#cb56-26"></a>      <span class="at">server =</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb56-27"><a href="#cb56-27"></a>        data_provider <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb56-28"><a href="#cb56-28"></a>          <span class="at">get_summary =</span> <span class="cf">function</span>() {</span>
<span id="cb56-29"><a href="#cb56-29"></a>            iris</span>
<span id="cb56-30"><a href="#cb56-30"></a>          }</span>
<span id="cb56-31"><a href="#cb56-31"></a>        )</span>
<span id="cb56-32"><a href="#cb56-32"></a>        <span class="fu">dataset_summary_server</span>(<span class="cn">NULL</span>, data_provider)</span>
<span id="cb56-33"><a href="#cb56-33"></a>      }</span>
<span id="cb56-34"><a href="#cb56-34"></a>    )</span>
<span id="cb56-35"><a href="#cb56-35"></a>    page <span class="ot">&lt;-</span> DatasetSummary<span class="sc">$</span><span class="fu">new</span>(app)</span>
<span id="cb56-36"><a href="#cb56-36"></a></span>
<span id="cb56-37"><a href="#cb56-37"></a>    <span class="co"># Act</span></span>
<span id="cb56-38"><a href="#cb56-38"></a></span>
<span id="cb56-39"><a href="#cb56-39"></a>    <span class="co"># Assert</span></span>
<span id="cb56-40"><a href="#cb56-40"></a>    page<span class="sc">$</span><span class="fu">expect_summary_visible</span>()</span>
<span id="cb56-41"><a href="#cb56-41"></a>  })</span>
<span id="cb56-42"><a href="#cb56-42"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Test passed 😸</code></pre>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>Once we have the assertion in place, we can implement the module to satisfy the tests.</p>
<p>Notice how here we’re testing just the module with a fake data provider. The actual data provider object should be tested in isolation.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="refactor-ui" class="title-slide slide level1 top center" data-auto-animate="true">
<h1 data-id="quarto-animate-title">🔁 Refactor – UI 🖼️</h1>
<div class="columns">
<div class="column" style="width:50%;">
<div class="fragment semi-fade-out">
<div class="cell" data-animateid="code3">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>dataset_summary.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb58"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1"></a>dataset_summary_ui <span class="ot">&lt;-</span> <span class="cf">function</span>(id) {</span>
<span id="cb58-2"><a href="#cb58-2"></a>  ns <span class="ot">&lt;-</span> <span class="fu">NS</span>(id)</span>
<span id="cb58-3"><a href="#cb58-3"></a>  <span class="fu">fluidPage</span>(</span>
<span id="cb58-4"><a href="#cb58-4"></a>    <span class="fu">tableOutput</span>(<span class="fu">ns</span>(<span class="st">"summary"</span>))</span>
<span id="cb58-5"><a href="#cb58-5"></a>  )</span>
<span id="cb58-6"><a href="#cb58-6"></a>}</span>
<span id="cb58-7"><a href="#cb58-7"></a></span>
<span id="cb58-8"><a href="#cb58-8"></a>dataset_summary_server <span class="ot">&lt;-</span> <span class="cf">function</span>(id, data_provider) {</span>
<span id="cb58-9"><a href="#cb58-9"></a>  <span class="fu">moduleServer</span>(id, <span class="cf">function</span>(input, output, session) {</span>
<span id="cb58-10"><a href="#cb58-10"></a>    output<span class="sc">$</span>summary <span class="ot">&lt;-</span> <span class="fu">renderTable</span>({</span>
<span id="cb58-11"><a href="#cb58-11"></a>      data_provider<span class="sc">$</span><span class="fu">get_summary</span>()</span>
<span id="cb58-12"><a href="#cb58-12"></a>    })</span>
<span id="cb58-13"><a href="#cb58-13"></a>  })</span>
<span id="cb58-14"><a href="#cb58-14"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
</div>
<div class="fragment absolute left-[-180px] top-[100px]" style="">
<img src="./assets/app_pills.png">
</div>
</div><div class="column" style="width:50%;">
<div class="cell" data-animateid="code4" data-code-height="700px" data-hash="index_cache/revealjs/unnamed-chunk-33_b70dfb8e44a70943a182de0476bb9411">
<div class="code-with-filename">
<div class="code-with-filename-file">
<pre><strong>test-dataset_summary.R</strong></pre>
</div>
<div class="sourceCode cell-code" id="cb59" data-code-line-numbers="1-13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a><span class="cf">if</span> (<span class="fu">interactive</span>()) {</span>
<span id="cb59-2"><a href="#cb59-2"></a>  <span class="fu">shinyApp</span>(</span>
<span id="cb59-3"><a href="#cb59-3"></a>    <span class="at">ui =</span> <span class="fu">dataset_summary_ui</span>(<span class="cn">NULL</span>),</span>
<span id="cb59-4"><a href="#cb59-4"></a>    <span class="at">server =</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb59-5"><a href="#cb59-5"></a>      data_provider <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb59-6"><a href="#cb59-6"></a>        <span class="at">get_summary =</span> <span class="cf">function</span>() {</span>
<span id="cb59-7"><a href="#cb59-7"></a>          iris</span>
<span id="cb59-8"><a href="#cb59-8"></a>        }</span>
<span id="cb59-9"><a href="#cb59-9"></a>      )</span>
<span id="cb59-10"><a href="#cb59-10"></a>      <span class="fu">dataset_summary_server</span>(<span class="cn">NULL</span>, data_provider)</span>
<span id="cb59-11"><a href="#cb59-11"></a>    }</span>
<span id="cb59-12"><a href="#cb59-12"></a>  )</span>
<span id="cb59-13"><a href="#cb59-13"></a>}</span>
<span id="cb59-14"><a href="#cb59-14"></a></span>
<span id="cb59-15"><a href="#cb59-15"></a>DatasetSummary <span class="ot">&lt;-</span> R6<span class="sc">::</span><span class="fu">R6Class</span>(</span>
<span id="cb59-16"><a href="#cb59-16"></a>  <span class="at">classname =</span> <span class="st">"DatasetSummary"</span>,</span>
<span id="cb59-17"><a href="#cb59-17"></a>  <span class="at">public =</span> <span class="fu">list</span>(</span>
<span id="cb59-18"><a href="#cb59-18"></a>    <span class="at">driver =</span> <span class="cn">NULL</span>,</span>
<span id="cb59-19"><a href="#cb59-19"></a>    <span class="at">selenider =</span> <span class="cn">NULL</span>,</span>
<span id="cb59-20"><a href="#cb59-20"></a>    <span class="at">initialize =</span> <span class="cf">function</span>(app) {</span>
<span id="cb59-21"><a href="#cb59-21"></a>      self<span class="sc">$</span>driver <span class="ot">&lt;-</span> AppDriver<span class="sc">$</span><span class="fu">new</span>(app)</span>
<span id="cb59-22"><a href="#cb59-22"></a>      self<span class="sc">$</span>selenider <span class="ot">&lt;-</span> <span class="fu">selenider_session</span>(</span>
<span id="cb59-23"><a href="#cb59-23"></a>        <span class="at">driver =</span> self<span class="sc">$</span>driver,</span>
<span id="cb59-24"><a href="#cb59-24"></a>        <span class="at">local =</span> <span class="cn">FALSE</span></span>
<span id="cb59-25"><a href="#cb59-25"></a>      )</span>
<span id="cb59-26"><a href="#cb59-26"></a>    },</span>
<span id="cb59-27"><a href="#cb59-27"></a>    <span class="at">expect_summary_visible =</span> <span class="cf">function</span>() {</span>
<span id="cb59-28"><a href="#cb59-28"></a>      <span class="fu">find_element</span>(self<span class="sc">$</span>selenider, <span class="at">css =</span> <span class="st">"#summary &gt; table"</span>) <span class="sc">|&gt;</span></span>
<span id="cb59-29"><a href="#cb59-29"></a>        <span class="fu">elem_expect</span>(is_visible) <span class="sc">|&gt;</span></span>
<span id="cb59-30"><a href="#cb59-30"></a>        <span class="fu">elem_expect</span>(\(x) <span class="fu">has_at_least</span>(<span class="fu">elem_children</span>(x), <span class="dv">1</span>))</span>
<span id="cb59-31"><a href="#cb59-31"></a>    }</span>
<span id="cb59-32"><a href="#cb59-32"></a>  )</span>
<span id="cb59-33"><a href="#cb59-33"></a>)</span>
<span id="cb59-34"><a href="#cb59-34"></a></span>
<span id="cb59-35"><a href="#cb59-35"></a><span class="fu">describe</span>(<span class="st">"dataset summary"</span>, {</span>
<span id="cb59-36"><a href="#cb59-36"></a>  <span class="fu">it</span>(<span class="st">"should show the summary"</span>, {</span>
<span id="cb59-37"><a href="#cb59-37"></a>    <span class="co"># Arrange</span></span>
<span id="cb59-38"><a href="#cb59-38"></a>    app <span class="ot">&lt;-</span> <span class="fu">shinyApp</span>(</span>
<span id="cb59-39"><a href="#cb59-39"></a>      <span class="at">ui =</span> <span class="fu">dataset_summary_ui</span>(<span class="cn">NULL</span>),</span>
<span id="cb59-40"><a href="#cb59-40"></a>      <span class="at">server =</span> <span class="cf">function</span>(input, output) {</span>
<span id="cb59-41"><a href="#cb59-41"></a>        data_provider <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb59-42"><a href="#cb59-42"></a>          <span class="at">get_summary =</span> <span class="cf">function</span>() {</span>
<span id="cb59-43"><a href="#cb59-43"></a>            iris</span>
<span id="cb59-44"><a href="#cb59-44"></a>          }</span>
<span id="cb59-45"><a href="#cb59-45"></a>        )</span>
<span id="cb59-46"><a href="#cb59-46"></a>        <span class="fu">dataset_summary_server</span>(<span class="cn">NULL</span>, data_provider)</span>
<span id="cb59-47"><a href="#cb59-47"></a>      }</span>
<span id="cb59-48"><a href="#cb59-48"></a>    )</span>
<span id="cb59-49"><a href="#cb59-49"></a>    page <span class="ot">&lt;-</span> DatasetSummary<span class="sc">$</span><span class="fu">new</span>(app)</span>
<span id="cb59-50"><a href="#cb59-50"></a></span>
<span id="cb59-51"><a href="#cb59-51"></a>    <span class="co"># Act</span></span>
<span id="cb59-52"><a href="#cb59-52"></a></span>
<span id="cb59-53"><a href="#cb59-53"></a>    <span class="co"># Assert</span></span>
<span id="cb59-54"><a href="#cb59-54"></a>    page<span class="sc">$</span><span class="fu">expect_summary_visible</span>()</span>
<span id="cb59-55"><a href="#cb59-55"></a>  })</span>
<span id="cb59-56"><a href="#cb59-56"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Test passed 🌈</code></pre>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>By adding a call to a Shiny app in our test file, using the same setup as in the test, we can run it interactively.</p>
<ol type="1">
<li><ol start="2" type="1">
<li>This way we can quickly iterate over the design and make the interface more usable and beautiful faster, without having to run the whole app.</li>
</ol></li>
</ol>
<p>We can also use this for manual exploratory testing or for interactive debugging. This test file is our entry point to the module.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="section-10" class="title-slide slide level1 top h-full center" data-auto-animate="true" data-transition="none">
<h1 data-id="quarto-animate-title"></h1>
<div class="grid grid-cols-3 grid-rows-2 gap-4 items-start my-8">
<div class="box module" data-id="box1">
<p>Feature 👔</p>
<p class="green">
</p>
<p class="fragment red">
</p><p class="fragment green">
</p>
<p></p>
<p class="fragment red">
</p><p class="fragment green">
</p>
<p></p>
<p class="fragment red">
</p><p class="fragment green">
</p>
<p></p>
</div>
<div class="box module fragment" data-id="box2">
<p>Feature 👔</p>
<p class="fragment red">
</p><p class="fragment green">
</p>
<p></p>
</div>
<div class="box module fragment" data-id="box3">
<p>Feature 👔</p>
<p class="fragment red">
</p><p class="fragment green">
</p>
<p></p>
</div>
<div class="box fragment fade-up col-span-3 text-center h-full content-center" data-id="box4">
<p class="text-white text-2xl">
🧪 Unit tests
</p>
</div>
</div>
<aside class="notes">
<ol type="1">
<li>So we’ve developed one feature.</li>
<li><ol start="3" type="1">
<li><ol start="4" type="1">
<li>We can expand it with new specification.</li>
</ol></li>
</ol></li>
<li><ol start="6" type="1">
<li>We can also add new features. Those are high-level tests of Shiny modules, that check if the business goal is achieved.</li>
</ol></li>
<li>This is supplemented be regular, low-level unit testing that validate business logic.</li>
</ol>
<p>We end up with tests for all building blocks of the app. We test and develop the parts separately. The sum of the parts is the whole app. This approach helps us maintain development speed, even as the app grows.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="section-11" class="title-slide slide level1 center" data-auto-animate="true">
<h1 data-id="quarto-animate-title"></h1>
<div class="grid grid-cols-2 grid-rows-1 place-items-center text-xl">
<div>
<h2>
Why use TDD?
</h2>
</div>
<div class="justify-self-start">
<div class="fragment">
<p>🏎️ Faster development cycles.</p>
</div>
<div class="fragment">
<p>🧠 Understanding the problem.</p>
</div>
<div class="fragment">
<p>🛡️ Confidence that it works.</p>
</div>
</div>
</div>
<aside class="notes">
<p>So why should you give it a try?</p>
<ol type="1">
<li>To have faster development cycles, with clear feedback.</li>
<li>To understand the problem better. It will prevent you from solving something that you didn’t understand first.</li>
<li>To have confidence that what you’re developing is what you need. Also, to have confidence that if you change something, the rest doesn’t fall apart.</li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>

<section id="section-12" class="title-slide slide level1 text-xl center" data-auto-animate="true">
<h1 data-id="quarto-animate-title"></h1>
<div class="flex flex-col items-center">
<div class="flex items-center gap-4">
<h2>
Thank you!
</h2>
<p><img src="./assets/avatar.jpg" class="clip-avatar" style="height: 400px;"></p>
</div>
<div>
<ul class="nonincremental">
<li class="flex items-center gap-2">
<svg xmlns="http://www.w3.org/2000/svg" class="h-8" viewbox="0 0 24 24">
<path fill="black" d="M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2zm-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93zM6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37z"></path>
</svg>
<a href="https://www.linkedin.com/in/jakub-sobolewski-r/">linkedin.com/in/jakub-sobolewski-r/</a>
</li>
<li class="flex items-center gap-2">
<svg xmlns="http://www.w3.org/2000/svg" class="h-8" viewbox="0 0 24 24">
<path fill="black" d="M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m2.5 12A1.5 1.5 0 0 0 6 16.5A1.5 1.5 0 0 0 7.5 18A1.5 1.5 0 0 0 9 16.5A1.5 1.5 0 0 0 7.5 15M6 10v2a6 6 0 0 1 6 6h2a8 8 0 0 0-8-8m0-4v2a10 10 0 0 1 10 10h2A12 12 0 0 0 6 6"></path>
</svg>
<a href="https://jakubsob.github.io/blog/">jakubsob.github.io/blog</a>
</li>
<li class="flex items-center gap-3">
<img class="h-8" src="./assets/cucumber.png"><a href="https://github.com/jakubsob/cucumber">github.com/jakubsob/cucumber</a>
</li>
</ul>
</div>
</div>
<aside class="notes">
<p>Thank you for joining me today. If you want to read more about TDD or testing in general follow me on linkedin where I post when I write something new on the subject.</p>
<p>You can also check out my blog, where you can find all the content I’ve written so far.</p>
<p>And if you want to dive deeper into the world of high-level, top-down testing, check out my cucumber package. It might help you with developing your Shiny apps from the user perspective, especially when you have a lot of behaviors to implement.</p>
<p>Thank you once again :)</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<script src="script.js"></script>
<p><img src="./assets/logo.png" class="slide-logo"></p>
<div class="footer footer-default">

</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="index_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="index_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="index_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="index_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="index_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="index_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":false},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

       // Parallax background image
       parallaxBackgroundImage: './assets/background.jpg', // e.g. "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'"

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1860,

        height: 1050,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>